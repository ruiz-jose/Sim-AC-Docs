---
title: Lenguaje ensamblador üë©üèø‚Äçüíª
description: Descrpci√≥n del lenguaje ensamblador
---

El ensamblador es un programa encargado de traducir las instrucciones y definiciones de un programa escrito en c√≥digo ensamblador a codigo maquina que entiende el CPU.

(ver [Repertorio de instrucciones](/Sim-AC-Docs/parte-2-disenio-cpu/sim-ac/0-repertorio))


## Modo de direccionamiento a memoria

Para hacer referencia a un contenido de memoria se coloca la direcci√≥n dentro de `[]`.  

Por ejemplo: si desea escribir un programa que sume `2 + 3`, deber√≠a ser algo como esto:

Ejemplo de subrutina:

```ac
0. 2
1. 3
2. 0
3. LDA [0]
4. ADD [1]
5. STA [2]
6. HLT
```
### Ejecuci√≥n del programa

0. La primer linea de c√≥digo es la `l√≠nea 3`, podemos ver `LDA [0]`, esto significa que carga el valor de la `direcci√≥n 0` en el `registro AC`. Esta `direcci√≥n 0` est√° en la `l√≠nea 0` que tiene un valor de `2`. Por lo tanto, carga `2` en el `registro AC`.

1. En la `l√≠nea 4`, tenemos `ADD [1]`, esto sumar√° el contenido de la `direcci√≥n 1` con el `registro AC`, luego  el resultado queda almacenado en el `registro AC` ser√° `5`.

2. En la `l√≠nea 5`, tenemos `STA [2]`, esto almacenar√° el contenido `registro AC` en la `direcci√≥n 2`.

3. En la `l√≠nea 6`, tenemos `HLT`, esto detiene el programa.


## Etiquetas
Para facilitar la programaci√≥n en lenguaje ensamblador y no tener que conocer la posici√≥n donde guardo un dato se utilizan etiquetas que son referencias a posiciones de memoria.


### Definici√≥n de datos (DB:Define Byte)
La palabra reservada del lenguaje ensamblador para definir una etiqueta de 1 byte es DB (Define Byte).
En este ejemplo, las etiquetas: `X`, `Y` y `Z` act√∫an como punteros a direcciones de memoria. El ensamblador pasar√° primero por el c√≥digo para encontrar todas las etiquetas y registrar sus direcciones de memoria. Luego, en la segunda pasada, sustituir√° las etiquetas por las direcciones reales.  

```ac
0. <-- X:  DB  3
1. <-- Y:  DB  2
2. <-- Z:  DB  0
3. LDA [X]
4. ADD [Y]
5. STA [Z]
6. HLT
```
Las etiquetas pueden hacer referencia a una posici√≥n de memoria, ya sea una dato o una instrucci√≥n.

```ac
0. <-- X:  DB  3
1. <-- Y:  DB  2
2. <-- Z:  DB  0
3. LDA [X]
4. <-- Bucle: ADD [Y]
5. JMP Bucle
6. HLT
```
* Es necesario incluir dos puntos `:` al final de la etiqueta cuando se declara.
* Cuando se utiliza en una etiqueta en una instrucci√≥n NO incluya los dos puntos al final, por ejemplo `JMP Bucle`.


## Comentarios

Los comentarios son ignorados por el ensamblador y siempre van precedidos por un punto y coma `;`.

```ac
; Este es un comentario en una l√≠nea por s√≠ mismo.
  LDA [4] ; Este es un comentario en l√≠nea y debe estar al final de una l√≠nea.
  ```

## Directivas

Los programas se agrupan en dos secciones una para datos y otra para c√≥digo, para ello se utliza las directivas `SECTION .DATA`  y `SECTION .TEXT`.

```ac
; Simple programa Z = X + Y 
SECTION .DATA   ; Secci√≥n de datos
    X:  DB  3
    Y:  DB  2
    Z:  DB  0

SECTION .TEXT   ; Secci√≥n de c√≥digo
  LDA [X]
  ADD [Y]
  STA [Z]
  HLT
```


:::caution[Limite]
El programa puede tener como maximo de 32 instrucciones.
:::
